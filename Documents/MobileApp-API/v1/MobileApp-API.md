[TOC]

------



## MobileAppKey - запрос на получение уникального идентификатора мобильного приложения

**Описание:**

Регистрация мобильного приложения в учетной системе. Передается номер телефона, возвращается уникальный идентификатор приложения, который сохраняется в системе, и в дальнейшем используется в запросах на получение данных.

**Метод:** POST

**URL**:  https://srv.st-pro.su/rz_nikban/hs/mobile-app/v1/MobileAppKey/ 

**Формат ответа**: JSON

**Параметры запроса:**

| Наименование | Тип        | Обязательный | Описание                         |
| ------------ | ---------- | ------------ | -------------------------------- |
| PhoneNumber  | Строка(11) | Да           | Номер телефона, без разделителей |

<u>Пример:</u>

{"PhoneNumber":"79293557688"}

**Параметры ответа:**

| Наименование | Тип        | Обязательный | Описание                         |
| ------------ | ---------- | ------------ | -------------------------------- |
| Amount       | Number(10) | Да           | Сумма бонусных баллов в копейках |

<u>Пример:</u>

{"MobileAppKey":"b0d4ce5d-2757-4699-948c-cfa72ba94f86"}

<u>Тесты:</u>

1. Правильный запрос-ответ

   Код ответа: 200
   Параметры запроса: {"PhoneNumber":"79293557688"}
   Параметры ответа: {"MobileAppKey":"b0d4ce5d-2757-4699-948c-cfa72ba94f86"}

2. Ошибка параметра

   Код ответа: 401
   Параметры запроса: {"Phone":"79293557688"}
   Параметры ответа, строка с описанием ошибки: "MobileAppKey: Отсутствует параметр "PhoneNumber""

3. Номер телефона в системе не зарегистрирован

   Код ответа: 401
   Параметры запроса: {"Phone":"79293557681"}
   Параметры ответа, строка с описанием ошибки: "MobileAppKey: Номер телефона 79293557681 не зарегистрирован"



## Balance - запрос остатков бонусных баллов

**Описание:** 

В запросе передается уникальный идентификатор мобильного приложения, возвращается сумма бонусных балов в копейках, к примеру "12567" это 125,67 (сто двадцать пять рублей шестьдесят семь копеек)

**Метод:** POST

**URL**:  https://srv.st-pro.su/rz_nikban/hs/mobile-app/v1/Balance/ 

**Формат ответа**: JSON

**Параметры запроса:**

| Наименование | Тип        | Обязательный | Описание                                                 |
| ------------ | ---------- | ------------ | -------------------------------------------------------- |
| MobileAppKey | Строка(36) | Да           | Уникальный идентификатор мобильного приложения в системе |

<u>Пример:</u>

{"MobileAppKey":"b0d4ce5d-2757-4699-948c-cfa72ba94f86"}

**Параметры ответа:**

| Наименование | Тип        | Обязательный | Описание                         |
| ------------ | ---------- | ------------ | -------------------------------- |
| Amount       | Number(10) | Да           | Сумма бонусных баллов в копейках |

<u>Пример:</u>

{"Amount":"12567"}

<u>Тесты:</u>

1. Правильный запрос-ответ

   Код ответа: 200
   Параметры запроса: {"MobileAppKey":"b0d4ce5d-2757-4699-948c-cfa72ba94f86"}
   Параметры ответа: {"Amount":"12567"}

2. Ошибка параметра

   Код ответа: 401
   Параметры запроса: {"AppKey":"b0d4ce5d-2757-4699-948c-cfa72ba94f86"}
   Параметры ответа, строка: "Balance: Отсутствует параметр "MobileAppKey""

3. Мобильное приложение не зарегистрировано

   Код ответа: 401
   Параметры запроса: {"MobileAppKey":"b0d4ce5d-2757-4699-948c-cfa72ba94f86"}
   Параметры ответа, строка: "MobileAppKey: Номер телефона 79293557681 не зарегистрирован"

